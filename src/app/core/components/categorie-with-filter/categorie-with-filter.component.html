<div class="container mb-30">
    <div class="row flex-row-reverse">
        <div class="col-lg-4-5">
            @if(ecommerceService.listOfProduct.value.length > 0){

              <div class="archive-header-2 text-center">
                <!-- <h3 class="display-2 mb-50">Rechercher des articles</h3> -->
                <div class="row">
                    <div class="col-lg-5 mx-auto">
                        <div class="sidebar-widget-2 widget_search mb-50">
                            <div class="search-form">
                                <form action="#">
                                    <input type="text" placeholder="Rechercher une boutique ici..">
                                    <button type="submit"><i class="fi-rs-search"></i></button>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

              <div class="row product-grid">
                <div class="col-lg-1-5 col-md-4 col-12 col-sm-6" *ngFor="let item of ecommerceService.listOfProduct |async">
                    <div class="product-cart-wrap mb-30">
                        <div class="product-img-action-wrap">
                            <div class="product-img product-img-zoom">
                                <a [routerLink]="['/details-product', item.slug]">
                                    <img class="default-img" [src]="item.image1" alt="">
                                    <img class="hover-img" [src]="  item?.image2" alt="">
                                </a>
                            </div>
                            <div class="product-action-1">
                                <a aria-label="Add To Wishlist" class="action-btn" (click)="addToWhishList(item)"><i class="fi-rs-heart"></i></a>
                                <!-- <a aria-label="Compare" class="action-btn"><i class="fi-rs-shuffle"></i></a> -->
                                <a aria-label="Quick view" class="action-btn" (click)="addTocart(item)"><i class="fi-rs-shopping-cart"></i></a>
                            </div>
                            <div class="product-badges product-badges-position product-badges-mrg">
                                <!-- <span class="sale">Sale</span> -->
                            </div>
                        </div>
                        <div class="product-content-wrap">
                            <div class="product-category">
                                <a [routerLink]="['/details-product', item.slug]">
                                  {{item.category.name}}
                                </a>
                            </div>
                            <h2><a [routerLink]="['/details-product', item.slug]">
                              {{item.name.substring(0, 17)}} ...
                            </a></h2>
                            <div class="product-rate-cover">
                                <div class="product-rate d-inline-block">
                                    <div class="product-rating" style="width: 80%"></div>
                                </div>
                                <span class="font-small ml-5 text-muted"> (3.5)</span>
                            </div>
                            <div>
                                <span class="font-small text-muted">Par <a href="vendor-details-1.html"> {{item.shop.name}} </a></span>
                            </div>
                            <div class="product-card-bottom">
                                <div class="product-price">
                                    <span> {{item.reduced_price |number:'1.0-0'}} CFA </span>
                                    <!-- <span class="old-price">{{item.price}}</span> -->
                                </div>
                                <div class="add-cart">
                                    <a class="add" [routerLink]="['/details-product', item.slug]"><i class="fi-rs-shopping-cart mr-5"></i>Voir</a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
              </div>


            }@else{
              <div class="row product-grid">
                <!--end product card-->
                <div class="col-lg-1-5 col-md-4 col-12 col-sm-6" *ngFor="let item of listOfLoader">
                  <div class="product-cart-wrap mb-30">
                    <div class="fb-item m-2">
                      <div class="first-section-wrapper">
                        <div class="gravatar">
                          <ngx-skeleton-loader
                            appearance="circle"
                            [theme]="{ width: '80px', height: '80px' }"
                          >
                          </ngx-skeleton-loader>
                        </div>
                        <div class="gravatar-title">
                          <div>
                            <ngx-skeleton-loader
                              [theme]="{
                                width: '200px',
                                'border-radius': '0',
                                height: '15px',
                                'margin-bottom': '10px'
                              }"
                            ></ngx-skeleton-loader>
                          </div>
                          <div>
                            <ngx-skeleton-loader
                              [theme]="{ width: '170px', 'border-radius': '0', height: '15px' }"
                            >
                            </ngx-skeleton-loader>
                          </div>
                        </div>
                      </div>
                      <div class="second-section-wrapper">
                        <div class="wrapper">
                          <ngx-skeleton-loader
                            [theme]="{
                              width: '80%',
                              'border-radius': '0',
                              height: '15px',
                              'margin-bottom': '10px'
                            }"
                          ></ngx-skeleton-loader>
                        </div>
                        <div class="wrapper">
                          <ngx-skeleton-loader
                            [theme]="{
                              width: '90%',
                              'border-radius': '0',
                              height: '15px',
                              'margin-bottom': '10px'
                            }"
                          ></ngx-skeleton-loader>
                        </div>
                        <div class="wrapper">
                          <ngx-skeleton-loader
                            [theme]="{
                              width: '60%',
                              'border-radius': '0',
                              height: '15px',
                              'margin-bottom': '10px'
                            }"
                          ></ngx-skeleton-loader>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            }
            <!--product grid-->

            <!-- <app-pagniate-data
                [currentPage]="currentPage"
                [pageSize]="pageSize"
                [totalItems]="totalItems"
                (pageChange)="onPageChange($event)">
              </app-pagniate-data> -->
            <!-- <section class="section-padding pb-5">
                <div class="section-title">
                    <h3 class="">Deals Of The Day</h3>
                    <a class="show-all" href="shop-grid-right.html">
                        All Deals
                        <i class="fi-rs-angle-right"></i>
                    </a>
                </div>
                <div class="row">
                    <div class="col-xl-3 col-lg-4 col-md-6">
                        <div class="product-cart-wrap style-2">
                            <div class="product-img-action-wrap">
                                <div class="product-img">
                                    <a href="shop-product-right.html">
                                        <img src="assets/imgs/banner/banner-5.png" alt="">
                                    </a>
                                </div>
                            </div>
                            <div class="product-content-wrap">
                                <div class="deals-countdown-wrap">
                                    <div class="deals-countdown" data-countdown="2025/03/25 00:00:00"></div>
                                </div>
                                <div class="deals-content">
                                    <h2><a href="shop-product-right.html">Seeds of Change Organic Quinoa, Brown</a></h2>
                                    <div class="product-rate-cover">
                                        <div class="product-rate d-inline-block">
                                            <div class="product-rating" style="width: 90%"></div>
                                        </div>
                                        <span class="font-small ml-5 text-muted"> (4.0)</span>
                                    </div>
                                    <div>
                                        <span class="font-small text-muted">By <a href="vendor-details-1.html">NestFood</a></span>
                                    </div>
                                    <div class="product-card-bottom">
                                        <div class="product-price">
                                            <span>$32.85</span>
                                            <span class="old-price">$33.8</span>
                                        </div>
                                        <div class="add-cart">
                                            <a class="add" href="shop-cart.html"><i class="fi-rs-shopping-cart mr-5"></i>Add </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-4 col-md-6">
                        <div class="product-cart-wrap style-2">
                            <div class="product-img-action-wrap">
                                <div class="product-img">
                                    <a href="shop-product-right.html">
                                        <img src="assets/imgs/banner/banner-6.png" alt="">
                                    </a>
                                </div>
                            </div>
                            <div class="product-content-wrap">
                                <div class="deals-countdown-wrap">
                                    <div class="deals-countdown" data-countdown="2026/04/25 00:00:00"></div>
                                </div>
                                <div class="deals-content">
                                    <h2><a href="shop-product-right.html">Perdue Simply Smart Organics Gluten</a></h2>
                                    <div class="product-rate-cover">
                                        <div class="product-rate d-inline-block">
                                            <div class="product-rating" style="width: 90%"></div>
                                        </div>
                                        <span class="font-small ml-5 text-muted"> (4.0)</span>
                                    </div>
                                    <div>
                                        <span class="font-small text-muted">By <a href="vendor-details-1.html">Old El Paso</a></span>
                                    </div>
                                    <div class="product-card-bottom">
                                        <div class="product-price">
                                            <span>$24.85</span>
                                            <span class="old-price">$26.8</span>
                                        </div>
                                        <div class="add-cart">
                                            <a class="add" href="shop-cart.html"><i class="fi-rs-shopping-cart mr-5"></i>Add </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-4 col-md-6 d-none d-lg-block">
                        <div class="product-cart-wrap style-2">
                            <div class="product-img-action-wrap">
                                <div class="product-img">
                                    <a href="shop-product-right.html">
                                        <img src="assets/imgs/banner/banner-7.png" alt="">
                                    </a>
                                </div>
                            </div>
                            <div class="product-content-wrap">
                                <div class="deals-countdown-wrap">
                                    <div class="deals-countdown" data-countdown="2027/03/25 00:00:00"></div>
                                </div>
                                <div class="deals-content">
                                    <h2><a href="shop-product-right.html">Signature Wood-Fired Mushroom</a></h2>
                                    <div class="product-rate-cover">
                                        <div class="product-rate d-inline-block">
                                            <div class="product-rating" style="width: 80%"></div>
                                        </div>
                                        <span class="font-small ml-5 text-muted"> (3.0)</span>
                                    </div>
                                    <div>
                                        <span class="font-small text-muted">By <a href="vendor-details-1.html">Progresso</a></span>
                                    </div>
                                    <div class="product-card-bottom">
                                        <div class="product-price">
                                            <span>$12.85</span>
                                            <span class="old-price">$13.8</span>
                                        </div>
                                        <div class="add-cart">
                                            <a class="add" href="shop-cart.html"><i class="fi-rs-shopping-cart mr-5"></i>Add </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-4 col-md-6 d-none d-xl-block">
                        <div class="product-cart-wrap style-2">
                            <div class="product-img-action-wrap">
                                <div class="product-img">
                                    <a href="shop-product-right.html">
                                        <img src="assets/imgs/banner/banner-8.png" alt="">
                                    </a>
                                </div>
                            </div>
                            <div class="product-content-wrap">
                                <div class="deals-countdown-wrap">
                                    <div class="deals-countdown" data-countdown="2025/02/25 00:00:00"></div>
                                </div>
                                <div class="deals-content">
                                    <h2><a href="shop-product-right.html">Simply Lemonade with Raspberry Juice</a></h2>
                                    <div class="product-rate-cover">
                                        <div class="product-rate d-inline-block">
                                            <div class="product-rating" style="width: 80%"></div>
                                        </div>
                                        <span class="font-small ml-5 text-muted"> (3.0)</span>
                                    </div>
                                    <div>
                                        <span class="font-small text-muted">By <a href="vendor-details-1.html">Yoplait</a></span>
                                    </div>
                                    <div class="product-card-bottom">
                                        <div class="product-price">
                                            <span>$15.85</span>
                                            <span class="old-price">$16.8</span>
                                        </div>
                                        <div class="add-cart">
                                            <a class="add" href="shop-cart.html"><i class="fi-rs-shopping-cart mr-5"></i>Add </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section> -->
        </div>
        <div class="col-lg-1-5 primary-sidebar sticky-sidebar">
            <div class="sidebar-widget widget-category-2 mb-30">
                <h5 class="section-title style-1 mb-30">Categories</h5>
                <ul>
                    @if(listOfData.value.length > 0){
                      <li *ngFor="let item of listOfData|async">
                        <a [routerLink]="['/categorie', item.slug , 'product']">
                            <img [src]="item.image" alt="">{{item.name}}</a>
                            <!-- <span class="count">30</span> -->
                      </li>



                    }@else{
                      <li >
                        <a class="category-loader ml-40">
                          <div class="loader3">
                            <div class="bar1"></div>
                            <div class="bar2"></div>
                            <div class="bar3"></div>
                            <div class="bar4"></div>
                            <div class="bar5"></div>
                            <div class="bar6"></div>
                            <div class="bar7"></div>
                            <div class="bar8"></div>
                            <div class="bar9"></div>
                            <div class="bar10"></div>
                            <div class="bar11"></div>
                            <div class="bar12"></div>
                        </div>
                        </a>
                      </li>
                    }

                </ul>
            </div>
            <div class="sidebar-widget price_range range mb-30">
                <h5 class="section-title style-1 mb-30">Fill by price</h5>
                <div class="price-filter">
                    <div class="price-filter-inner">
                        <div id="slider-range"></div>
                        <div class="price_slider_amount">
                            <div class="label-input"><span>Range:</span><input type="text" id="amount" name="price" placeholder="Add Your Price"></div>
                        </div>
                    </div>
                </div>
                <div class="list-group">
                    <div class="list-group-item mb-10 mt-10">
                        <label class="fw-900">Color</label>
                        <div class="custome-checkbox">
                            <input class="form-check-input" type="checkbox" name="checkbox" id="exampleCheckbox1" value="">
                            <label class="form-check-label" for="exampleCheckbox1"><span>Red (56)</span></label>
                            <br>
                            <input class="form-check-input" type="checkbox" name="checkbox" id="exampleCheckbox2" value="">
                            <label class="form-check-label" for="exampleCheckbox2"><span>Green (78)</span></label>
                            <br>
                            <input class="form-check-input" type="checkbox" name="checkbox" id="exampleCheckbox3" value="">
                            <label class="form-check-label" for="exampleCheckbox3"><span>Blue (54)</span></label>
                        </div>
                        <label class="fw-900 mt-15">Item Condition</label>
                        <div class="custome-checkbox">
                            <input class="form-check-input" type="checkbox" name="checkbox" id="exampleCheckbox11" value="">
                            <label class="form-check-label" for="exampleCheckbox11"><span>New (1506)</span></label>
                            <br>
                            <input class="form-check-input" type="checkbox" name="checkbox" id="exampleCheckbox21" value="">
                            <label class="form-check-label" for="exampleCheckbox21"><span>Refurbished (27)</span></label>
                            <br>
                            <input class="form-check-input" type="checkbox" name="checkbox" id="exampleCheckbox31" value="">
                            <label class="form-check-label" for="exampleCheckbox31"><span>Used (45)</span></label>
                        </div>
                    </div>
                </div>
                <a href="shop-grid-right.html" class="btn btn-sm btn-default"><i class="fi-rs-filter mr-5"></i> Fillter</a>
            </div>
            <!-- Product sidebar Widget -->
            @if(ecommerceService.newProducts.value.length >0){
                <div class="sidebar-widget product-sidebar mb-30 p-30 bg-grey border-radius-10">
                  <h5 class="section-title style-1 mb-30">Nouveaux articles</h5>
                  <div class="single-post clearfix" *ngFor="let item of ecommerceService.newProducts |async">
                      <div class="image">
                          <img [src]="item.image1" alt="#">
                      </div>
                      <div class="content pt-10">
                          <h5><a [routerLink]="['/details-product', item.slug]">{{item.name.substring(0, 15)}} ...</a></h5>
                          <p class="price mb-0 mt-5">{{item.reduced_price |number:'1.0-0'}} CFA</p>
                          <div class="product-rate">
                              <div class="product-rating" style="width: 90%"></div>
                          </div>
                      </div>
                  </div>

              </div>
            }

            <div class="banner-img wow fadeIn mb-lg-0 animated d-lg-block d-none">
                <img src="assets/imgs/banner/banner-11.png" alt="">
                <div class="banner-text">
                    <span>Oganic</span>
                    <h4>
                        Save 17% <br>
                        on <span class="text-brand">Oganic</span><br>
                        Juice
                    </h4>
                </div>
            </div>
        </div>
    </div>
</div>

<app-breadcrumb
  [firstTitle]="'Accueil'"
  [secondTitle]="'Boutiques'"
  [firdTitle]="storeName"
></app-breadcrumb>

<div class="container mb-30">

  <app-banner-vendors [vendor]="vendorDetails"> </app-banner-vendors>
  <div class="container mb-30">
    <div class="archive-header-2 text-center pt-10 pb-20">
      <div class="row">
        <div class="col-lg-5 mx-auto">
          <div class="sidebar-widget-2 widget_search mb-50">
            <div class="search-form">
              <form>
                <input
                  type="text"
                  placeholder="Rechercher vos articles ici ..."
                />
                <button type="submit"><i class="fi-rs-search"></i></button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row flex-row-reverse">
      <div class="col-lg-1-5 primary-sidebar sticky-sidebar">
        <div class="sidebar-widget widget-category-2 mb-30">
          <h5 class="section-title style-1 mb-30">Categories</h5>
          <ul>
            @if(listOfData.value.length > 0){
            <li
              *ngFor="let item of listOfData | async"
              role="button"
              (click)="chooseCategory(item)"
              [ngClass]="{ selected: item.id === selectedCategory }"
            >
              <a href="javascript:void(0);">
                <img [src]="item.image" alt="" />{{ item.name }}</a
              >
              <!-- <span class="count">30</span> [routerLink]="['/store', vendorDetails.slug , 'categorie', item.slug]" -->
            </li>
            <li role="button">
              <a>
                <div class="more_categories">
                  <span class="icon mb-2"></span>
                  <span class="heading-sm-1 mb-2">Affichez plus...</span>
                </div>
              </a>
              <!-- <span class="count">30</span> -->
            </li>
            }@else{
            <li>
              <a class="category-loader ml-40">
                <div class="loader3">
                  <div class="bar1"></div>
                  <div class="bar2"></div>
                  <div class="bar3"></div>
                  <div class="bar4"></div>
                  <div class="bar5"></div>
                  <div class="bar6"></div>
                  <div class="bar7"></div>
                  <div class="bar8"></div>
                  <div class="bar9"></div>
                  <div class="bar10"></div>
                  <div class="bar11"></div>
                  <div class="bar12"></div>
                </div>
              </a>
            </li>
            }
          </ul>
        </div>
        <!-- Product sidebar Widget -->
      </div>
      <div class="col-lg-4-5">
        @if(!loaderProduct){

        <div class="row product-grid" id="products-section">
          <div class="row product-grid">
            <div
              class="col-lg-3 col-md-4 col-12 col-sm-6"
              *ngFor="
                let item of listOfVendorProducts
                  | async
                  | slice : 0 : 8
              "
            >
              <app-single-product [product]="item"></app-single-product>
            </div>
          </div>
        </div>

        }@else{
          <div class="row product-grid">
            <!--end product card-->
            <div
              class="col-lg-1-5 col-md-4 col-12 col-sm-6"
              *ngFor="let item of listOfLoader"
            >
              <div class="product-cart-wrap mb-30">
                <div class="fb-item m-2">
                  <div class="first-section-wrapper">
                    <div class="gravatar">
                      <ngx-skeleton-loader
                        appearance="circle"
                        [theme]="{ width: '80px', height: '80px' }"
                      >
                      </ngx-skeleton-loader>
                    </div>
                    <div class="gravatar-title">
                      <div>
                        <ngx-skeleton-loader
                          [theme]="{
                            width: '200px',
                            'border-radius': '0',
                            height: '15px',
                            'margin-bottom': '10px'
                          }"
                        ></ngx-skeleton-loader>
                      </div>
                      <div>
                        <ngx-skeleton-loader
                          [theme]="{
                            width: '170px',
                            'border-radius': '0',
                            height: '15px'
                          }"
                        >
                        </ngx-skeleton-loader>
                      </div>
                    </div>
                  </div>
                  <div class="second-section-wrapper">
                    <div class="wrapper">
                      <ngx-skeleton-loader
                        [theme]="{
                          width: '80%',
                          'border-radius': '0',
                          height: '15px',
                          'margin-bottom': '10px'
                        }"
                      ></ngx-skeleton-loader>
                    </div>
                    <div class="wrapper">
                      <ngx-skeleton-loader
                        [theme]="{
                          width: '90%',
                          'border-radius': '0',
                          height: '15px',
                          'margin-bottom': '10px'
                        }"
                      ></ngx-skeleton-loader>
                    </div>
                    <div class="wrapper">
                      <ngx-skeleton-loader
                        [theme]="{
                          width: '60%',
                          'border-radius': '0',
                          height: '15px',
                          'margin-bottom': '10px'
                        }"
                      ></ngx-skeleton-loader>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        }
      </div>
    </div>

    @if(ecommerceService.newProducts.value.length >0){
      <app-articles-propulaires
        [title]="'Récement ajoutés'"
        [produts]="ecommerceService.newProducts.value"
      ></app-articles-propulaires>
    }

    @if(listOfVentesFlash.value){
      <app-articles-propulaires
        [title]="'Ventes Flash'"
        [produts]="listOfVentesFlash.value"
      ></app-articles-propulaires>
    }
  </div>
  <!-- <app-top-selling></app-top-selling> -->

</div>
